(self.webpackChunkSoyaMilk_design=self.webpackChunkSoyaMilk_design||[]).push([[44],{93096:function(A,De,C){var B="Expected a function",T=NaN,U="[object Symbol]",Z=/^\s+|\s+$/g,_=/^[-+]0x[0-9a-f]+$/i,le=/^0b[01]+$/i,Me=/^0o[0-7]+$/i,ye=parseInt,lt=typeof C.g=="object"&&C.g&&C.g.Object===Object&&C.g,ct=typeof self=="object"&&self&&self.Object===Object&&self,mt=lt||ct||Function("return this")(),se=Object.prototype,Fe=se.toString,St=Math.max,xt=Math.min,nt=function(){return mt.Date.now()};function Kt(w,X,ne){var $,ce,ve,Ze,pe,Re,Ye=0,me=!1,ze=!1,rt=!0;if(typeof w!="function")throw new TypeError(B);X=h(X)||0,Ge(ne)&&(me=!!ne.leading,ze="maxWait"in ne,ve=ze?St(h(ne.maxWait)||0,X):ve,rt="trailing"in ne?!!ne.trailing:rt);function qe(J){var Ne=$,Le=ce;return $=ce=void 0,Ye=J,Ze=w.apply(Le,Ne),Ze}function bt(J){return Ye=J,pe=setTimeout(et,X),me?qe(J):Ze}function kt(J){var Ne=J-Re,Le=J-Ye,gt=X-Ne;return ze?xt(gt,ve-Le):gt}function ft(J){var Ne=J-Re,Le=J-Ye;return Re===void 0||Ne>=X||Ne<0||ze&&Le>=ve}function et(){var J=nt();if(ft(J))return vt(J);pe=setTimeout(et,kt(J))}function vt(J){return pe=void 0,rt&&$?qe(J):($=ce=void 0,Ze)}function Nt(){pe!==void 0&&clearTimeout(pe),Ye=0,$=Re=ce=pe=void 0}function pt(){return pe===void 0?Ze:vt(nt())}function ht(){var J=nt(),Ne=ft(J);if($=arguments,ce=this,Re=J,Ne){if(pe===void 0)return bt(Re);if(ze)return pe=setTimeout(et,X),qe(Re)}return pe===void 0&&(pe=setTimeout(et,X)),Ze}return ht.cancel=Nt,ht.flush=pt,ht}function Et(w,X,ne){var $=!0,ce=!0;if(typeof w!="function")throw new TypeError(B);return Ge(ne)&&($="leading"in ne?!!ne.leading:$,ce="trailing"in ne?!!ne.trailing:ce),Kt(w,X,{leading:$,maxWait:X,trailing:ce})}function Ge(w){var X=typeof w;return!!w&&(X=="object"||X=="function")}function ut(w){return!!w&&typeof w=="object"}function Te(w){return typeof w=="symbol"||ut(w)&&Fe.call(w)==U}function h(w){if(typeof w=="number")return w;if(Te(w))return T;if(Ge(w)){var X=typeof w.valueOf=="function"?w.valueOf():w;w=Ge(X)?X+"":X}if(typeof w!="string")return w===0?w:+w;w=w.replace(Z,"");var ne=le.test(w);return ne||Me.test(w)?ye(w.slice(2),ne?2:8):_.test(w)?T:+w}A.exports=Et},3190:function(A,De,C){"use strict";var B=C(87462),T=C(4942),U=C(71002),Z=C(1413),_=C(41451),le=C(15671),Me=C(43144),ye=C(97326),lt=C(32531),ct=C(73568),mt=C(93967),se=C.n(mt),Fe=C(15105),St=`accept acceptCharset accessKey action allowFullScreen allowTransparency
    alt async autoComplete autoFocus autoPlay capture cellPadding cellSpacing challenge
    charSet checked classID className colSpan cols content contentEditable contextMenu
    controls coords crossOrigin data dateTime default defer dir disabled download draggable
    encType form formAction formEncType formMethod formNoValidate formTarget frameBorder
    headers height hidden high href hrefLang htmlFor httpEquiv icon id inputMode integrity
    is keyParams keyType kind label lang list loop low manifest marginHeight marginWidth max maxLength media
    mediaGroup method min minLength multiple muted name noValidate nonce open
    optimum pattern placeholder poster preload radioGroup readOnly rel required
    reversed role rowSpan rows sandbox scope scoped scrolling seamless selected
    shape size sizes span spellCheck src srcDoc srcLang srcSet start step style
    summary tabIndex target title type useMap value width wmode wrap`,xt=`onCopy onCut onPaste onCompositionEnd onCompositionStart onCompositionUpdate onKeyDown
    onKeyPress onKeyUp onFocus onBlur onChange onInput onSubmit onClick onContextMenu onDoubleClick
    onDrag onDragEnd onDragEnter onDragExit onDragLeave onDragOver onDragStart onDrop onMouseDown
    onMouseEnter onMouseLeave onMouseMove onMouseOut onMouseOver onMouseUp onSelect onTouchCancel
    onTouchEnd onTouchMove onTouchStart onScroll onWheel onAbort onCanPlay onCanPlayThrough
    onDurationChange onEmptied onEncrypted onEnded onError onLoadedData onLoadedMetadata
    onLoadStart onPause onPlay onPlaying onProgress onRateChange onSeeked onSeeking onStalled onSuspend onTimeUpdate onVolumeChange onWaiting onLoad onError`,nt="".concat(St," ").concat(xt).split(/[\s\n]+/),Kt="aria-",Et="data-";function Ge(n,i){return n.indexOf(i)===0}function ut(n){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,s;i===!1?s={aria:!0,data:!0,attr:!0}:i===!0?s={aria:!0}:s=(0,Z.Z)({},i);var e={};return Object.keys(n).forEach(function(o){(s.aria&&(o==="role"||Ge(o,Kt))||s.data&&Ge(o,Et)||s.attr&&nt.includes(o))&&(e[o]=n[o])}),e}var Te=C(80334),h=C(67294),w=h.createContext(null);function X(n){var i=n.dropPosition,s=n.dropLevelOffset,e=n.indent,o={pointerEvents:"none",position:"absolute",right:0,backgroundColor:"red",height:2};switch(i){case-1:o.top=0,o.left=-s*e;break;case 1:o.bottom=0,o.left=-s*e;break;case 0:o.bottom=0,o.left=e;break}return h.createElement("div",{style:o})}function ne(n){if(n==null)throw new TypeError("Cannot destructure "+n)}var $=C(86854),ce=C(91),ve=C(8410),Ze=C(73935),pe=C(9220),Re=h.forwardRef(function(n,i){var s=n.height,e=n.offsetY,o=n.offsetX,l=n.children,u=n.prefixCls,t=n.onInnerResize,r=n.innerProps,a=n.rtl,d=n.extra,c={},f={display:"flex",flexDirection:"column"};if(e!==void 0){var v;c={height:s,position:"relative",overflow:"hidden"},f=(0,Z.Z)((0,Z.Z)({},f),{},(v={transform:"translateY(".concat(e,"px)")},(0,T.Z)(v,a?"marginRight":"marginLeft",-o),(0,T.Z)(v,"position","absolute"),(0,T.Z)(v,"left",0),(0,T.Z)(v,"right",0),(0,T.Z)(v,"top",0),v))}return h.createElement("div",{style:c},h.createElement(pe.Z,{onResize:function(y){var m=y.offsetHeight;m&&t&&t()}},h.createElement("div",(0,B.Z)({style:f,className:se()((0,T.Z)({},"".concat(u,"-holder-inner"),u)),ref:i},r),l,d)))});Re.displayName="Filler";var Ye=Re,me=C(75164);function ze(n,i){var s="touches"in n?n.touches[0]:n;return s[i?"pageX":"pageY"]}var rt=h.forwardRef(function(n,i){var s,e=n.prefixCls,o=n.rtl,l=n.scrollOffset,u=n.scrollRange,t=n.onStartMove,r=n.onStopMove,a=n.onScroll,d=n.horizontal,c=n.spinSize,f=n.containerSize,v=n.style,g=n.thumbStyle,y=h.useState(!1),m=(0,$.Z)(y,2),p=m[0],S=m[1],x=h.useState(null),K=(0,$.Z)(x,2),E=K[0],N=K[1],b=h.useState(null),M=(0,$.Z)(b,2),k=M[0],I=M[1],D=!o,L=h.useRef(),R=h.useRef(),F=h.useState(!1),G=(0,$.Z)(F,2),q=G[0],W=G[1],j=h.useRef(),he=function(){clearTimeout(j.current),W(!0),j.current=setTimeout(function(){W(!1)},3e3)},xe=u-f||0,ke=f-c||0,ee=xe>0,re=h.useMemo(function(){if(l===0||xe===0)return 0;var oe=l/xe;return oe*ke},[l,xe,ke]),ge=function(V){V.stopPropagation(),V.preventDefault()},Ke=h.useRef({top:re,dragging:p,pageY:E,startTop:k});Ke.current={top:re,dragging:p,pageY:E,startTop:k};var Ie=function(V){S(!0),N(ze(V,d)),I(Ke.current.top),t(),V.stopPropagation(),V.preventDefault()};h.useEffect(function(){var oe=function(Je){Je.preventDefault()},V=L.current,Ce=R.current;return V.addEventListener("touchstart",oe),Ce.addEventListener("touchstart",Ie),function(){V.removeEventListener("touchstart",oe),Ce.removeEventListener("touchstart",Ie)}},[]);var Pe=h.useRef();Pe.current=xe;var $e=h.useRef();$e.current=ke,h.useEffect(function(){if(p){var oe,V=function(Je){var Ae=Ke.current,tt=Ae.dragging,Oe=Ae.pageY,it=Ae.startTop;if(me.Z.cancel(oe),tt){var je=ze(Je,d)-Oe,z=it;!D&&d?z-=je:z+=je;var Ee=Pe.current,ue=$e.current,fe=ue?z/ue:0,te=Math.ceil(fe*Ee);te=Math.max(te,0),te=Math.min(te,Ee),oe=(0,me.Z)(function(){a(te,d)})}},Ce=function(){S(!1),r()};return window.addEventListener("mousemove",V),window.addEventListener("touchmove",V),window.addEventListener("mouseup",Ce),window.addEventListener("touchend",Ce),function(){window.removeEventListener("mousemove",V),window.removeEventListener("touchmove",V),window.removeEventListener("mouseup",Ce),window.removeEventListener("touchend",Ce),me.Z.cancel(oe)}}},[p]),h.useEffect(function(){he()},[l]),h.useImperativeHandle(i,function(){return{delayHidden:he}});var de="".concat(e,"-scrollbar"),Y={position:"absolute",visibility:q&&ee?null:"hidden"},ae={position:"absolute",background:"rgba(0, 0, 0, 0.5)",borderRadius:99,cursor:"pointer",userSelect:"none"};return d?(Y.height=8,Y.left=0,Y.right=0,Y.bottom=0,ae.height="100%",ae.width=c,D?ae.left=re:ae.right=re):(Y.width=8,Y.top=0,Y.bottom=0,D?Y.right=0:Y.left=0,ae.width="100%",ae.height=c,ae.top=re),h.createElement("div",{ref:L,className:se()(de,(s={},(0,T.Z)(s,"".concat(de,"-horizontal"),d),(0,T.Z)(s,"".concat(de,"-vertical"),!d),(0,T.Z)(s,"".concat(de,"-visible"),q),s)),style:(0,Z.Z)((0,Z.Z)({},Y),v),onMouseDown:ge,onMouseMove:he},h.createElement("div",{ref:R,className:se()("".concat(de,"-thumb"),(0,T.Z)({},"".concat(de,"-thumb-moving"),p)),style:(0,Z.Z)((0,Z.Z)({},ae),g),onMouseDown:Ie}))}),qe=rt;function bt(n){var i=n.children,s=n.setRef,e=h.useCallback(function(o){s(o)},[]);return h.cloneElement(i,{ref:e})}function kt(n,i,s,e,o,l,u){var t=u.getKey;return n.slice(i,s+1).map(function(r,a){var d=i+a,c=l(r,d,{style:{width:e}}),f=t(r);return h.createElement(bt,{key:f,setRef:function(g){return o(r,g)}},c)})}var ft=C(34203),et=function(){function n(){(0,le.Z)(this,n),this.maps=void 0,this.id=0,this.maps=Object.create(null)}return(0,Me.Z)(n,[{key:"set",value:function(s,e){this.maps[s]=e,this.id+=1}},{key:"get",value:function(s){return this.maps[s]}}]),n}(),vt=et;function Nt(n,i,s){var e=h.useState(0),o=(0,$.Z)(e,2),l=o[0],u=o[1],t=(0,h.useRef)(new Map),r=(0,h.useRef)(new vt),a=(0,h.useRef)();function d(){me.Z.cancel(a.current)}function c(){var v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;d();var g=function(){t.current.forEach(function(m,p){if(m&&m.offsetParent){var S=(0,ft.Z)(m),x=S.offsetHeight;r.current.get(p)!==x&&r.current.set(p,S.offsetHeight)}}),u(function(m){return m+1})};v?g():a.current=(0,me.Z)(g)}function f(v,g){var y=n(v),m=t.current.get(y);g?(t.current.set(y,g),c()):t.current.delete(y),!m!=!g&&(g?i==null||i(v):s==null||s(v))}return(0,h.useEffect)(function(){return d},[]),[f,c,r.current,l]}var pt=C(66680),ht=C(21770),J=C(42550);function Ne(n,i,s,e){if(!i.length)return s;var o=_toArray(i),l=o[0],u=o.slice(1),t;return!n&&typeof l=="number"?t=[]:Array.isArray(n)?t=_toConsumableArray(n):t=_objectSpread({},n),e&&s===void 0&&u.length===1?delete t[l][u[0]]:t[l]=Ne(t[l],u,s,e),t}function Le(n,i,s){var e=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;return i.length&&e&&s===void 0&&!get(n,i.slice(0,-1))?n:Ne(n,i,s,e)}function gt(n){return _typeof(n)==="object"&&n!==null&&Object.getPrototypeOf(n)===Object.prototype}function zt(n){return Array.isArray(n)?[]:{}}var xn=typeof Reflect=="undefined"?Object.keys:Reflect.ownKeys;function Rr(){for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];var e=zt(i[0]);return i.forEach(function(o){function l(u,t){var r=new Set(t),a=get(o,u),d=Array.isArray(a);if(d||gt(a)){if(!r.has(a)){r.add(a);var c=get(e,u);d?e=Le(e,u,[]):(!c||_typeof(c)!=="object")&&(e=Le(e,u,zt(a))),xn(a).forEach(function(f){l([].concat(_toConsumableArray(u),[f]),r)})}}else e=Le(e,u,a)}l([])}),e}var Kn=10;function En(n,i,s,e,o,l,u,t){var r=h.useRef(),a=h.useState(null),d=(0,$.Z)(a,2),c=d[0],f=d[1];return(0,ve.Z)(function(){if(c&&c.times<Kn){if(!n.current){f(function(he){return(0,Z.Z)({},he)});return}l();var v=c.targetAlign,g=c.originAlign,y=c.index,m=c.offset,p=n.current.clientHeight,S=!1,x=v,K=null;if(p){for(var E=v||g,N=0,b=0,M=0,k=Math.min(i.length-1,y),I=0;I<=k;I+=1){var D=o(i[I]);b=N;var L=s.get(D);M=b+(L===void 0?e:L),N=M}for(var R=E==="top"?m:p-m,F=k;F>=0;F-=1){var G=o(i[F]),q=s.get(G);if(q===void 0){S=!0;break}if(R-=q,R<=0)break}switch(E){case"top":K=b-m;break;case"bottom":K=M-p+m;break;default:{var W=n.current.scrollTop,j=W+p;b<W?x="top":M>j&&(x="bottom")}}K!==null&&u(K),K!==c.lastTop&&(S=!0)}S&&f((0,Z.Z)((0,Z.Z)({},c),{},{times:c.times+1,targetAlign:x,lastTop:K}))}},[c,n.current]),function(v){if(v==null){t();return}if(me.Z.cancel(r.current),typeof v=="number")u(v);else if(v&&(0,U.Z)(v)==="object"){var g,y=v.align;"index"in v?g=v.index:g=i.findIndex(function(S){return o(S)===v.key});var m=v.offset,p=m===void 0?0:m;f({times:0,index:g,offset:p,originAlign:y})}}}function Pr(n,i,s,e){var o=s-n,l=i-s,u=Math.min(o,l)*2;if(e<=u){var t=Math.floor(e/2);return e%2?s+t+1:s-t}return o>l?s-(e-l):s+(e-o)}function bn(n,i,s){var e=n.length,o=i.length,l,u;if(e===0&&o===0)return null;e<o?(l=n,u=i):(l=i,u=n);var t={__EMPTY_ITEM__:!0};function r(g){return g!==void 0?s(g):t}for(var a=null,d=Math.abs(e-o)!==1,c=0;c<u.length;c+=1){var f=r(l[c]),v=r(u[c]);if(f!==v){a=c,d=d||f!==r(u[c+1]);break}}return a===null?null:{index:a,multiple:d}}function kn(n,i,s){var e=h.useState(n),o=(0,$.Z)(e,2),l=o[0],u=o[1],t=h.useState(null),r=(0,$.Z)(t,2),a=r[0],d=r[1];return h.useEffect(function(){var c=bn(l||[],n||[],i);(c==null?void 0:c.index)!==void 0&&(s==null||s(c.index),d(n[c.index])),u(n)},[n]),[a]}var Nn=(typeof navigator=="undefined"?"undefined":(0,U.Z)(navigator))==="object"&&/Firefox/i.test(navigator.userAgent),Wt=Nn,jt=function(n,i){var s=(0,h.useRef)(!1),e=(0,h.useRef)(null);function o(){clearTimeout(e.current),s.current=!0,e.current=setTimeout(function(){s.current=!1},50)}var l=(0,h.useRef)({top:n,bottom:i});return l.current.top=n,l.current.bottom=i,function(u){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=u<0&&l.current.top||u>0&&l.current.bottom;return t&&r?(clearTimeout(e.current),s.current=!1):(!r||s.current)&&o(),!s.current&&r}};function Cn(n,i,s,e,o){var l=(0,h.useRef)(0),u=(0,h.useRef)(null),t=(0,h.useRef)(null),r=(0,h.useRef)(!1),a=jt(i,s);function d(m,p){me.Z.cancel(u.current),l.current+=p,t.current=p,!a(p)&&(Wt||m.preventDefault(),u.current=(0,me.Z)(function(){var S=r.current?10:1;o(l.current*S),l.current=0}))}function c(m,p){o(p,!0),Wt||m.preventDefault()}var f=(0,h.useRef)(null),v=(0,h.useRef)(null);function g(m){if(n){me.Z.cancel(v.current),v.current=(0,me.Z)(function(){f.current=null},2);var p=m.deltaX,S=m.deltaY,x=m.shiftKey,K=p,E=S;(f.current==="sx"||!f.current&&x&&S&&!p)&&(K=S,E=0,f.current="sx");var N=Math.abs(K),b=Math.abs(E);f.current===null&&(f.current=e&&N>b?"x":"y"),f.current==="y"?d(m,E):c(m,K)}}function y(m){n&&(r.current=m.detail===t.current)}return[g,y]}var Dn=14/15;function Mn(n,i,s){var e=(0,h.useRef)(!1),o=(0,h.useRef)(0),l=(0,h.useRef)(null),u=(0,h.useRef)(null),t,r=function(f){if(e.current){var v=Math.ceil(f.touches[0].pageY),g=o.current-v;o.current=v,s(g)&&f.preventDefault(),clearInterval(u.current),u.current=setInterval(function(){g*=Dn,(!s(g,!0)||Math.abs(g)<=.1)&&clearInterval(u.current)},16)}},a=function(){e.current=!1,t()},d=function(f){t(),f.touches.length===1&&!e.current&&(e.current=!0,o.current=Math.ceil(f.touches[0].pageY),l.current=f.target,l.current.addEventListener("touchmove",r),l.current.addEventListener("touchend",a))};t=function(){l.current&&(l.current.removeEventListener("touchmove",r),l.current.removeEventListener("touchend",a))},(0,ve.Z)(function(){return n&&i.current.addEventListener("touchstart",d),function(){var c;(c=i.current)===null||c===void 0||c.removeEventListener("touchstart",d),t(),clearInterval(u.current)}},[n])}var Tn=20;function Bt(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=n/i*100;return isNaN(s)&&(s=0),s=Math.max(s,Tn),s=Math.min(s,n/2),Math.floor(s)}function Rn(n,i,s,e){var o=h.useMemo(function(){return[new Map,[]]},[n,s.id,e]),l=(0,$.Z)(o,2),u=l[0],t=l[1],r=function(d){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:d,f=u.get(d),v=u.get(c);if(f===void 0||v===void 0)for(var g=n.length,y=t.length;y<g;y+=1){var m,p=n[y],S=i(p);u.set(S,y);var x=(m=s.get(S))!==null&&m!==void 0?m:e;if(t[y]=(t[y-1]||0)+x,S===d&&(f=y),S===c&&(v=y),f!==void 0&&v!==void 0)break}return{top:t[f-1]||0,bottom:t[v]}};return r}var Pn=["prefixCls","className","height","itemHeight","fullHeight","style","data","children","itemKey","virtual","direction","scrollWidth","component","onScroll","onVirtualScroll","onVisibleChange","innerProps","extraRender","styles"],On=[],Zn={overflowY:"auto",overflowAnchor:"none"};function Ln(n,i){var s=n.prefixCls,e=s===void 0?"rc-virtual-list":s,o=n.className,l=n.height,u=n.itemHeight,t=n.fullHeight,r=t===void 0?!0:t,a=n.style,d=n.data,c=n.children,f=n.itemKey,v=n.virtual,g=n.direction,y=n.scrollWidth,m=n.component,p=m===void 0?"div":m,S=n.onScroll,x=n.onVirtualScroll,K=n.onVisibleChange,E=n.innerProps,N=n.extraRender,b=n.styles,M=(0,ce.Z)(n,Pn),k=!!(v!==!1&&l&&u),I=k&&d&&(u*d.length>l||!!y),D=g==="rtl",L=se()(e,(0,T.Z)({},"".concat(e,"-rtl"),D),o),R=d||On,F=(0,h.useRef)(),G=(0,h.useRef)(),q=(0,h.useState)(0),W=(0,$.Z)(q,2),j=W[0],he=W[1],xe=(0,h.useState)(0),ke=(0,$.Z)(xe,2),ee=ke[0],re=ke[1],ge=(0,h.useState)(!1),Ke=(0,$.Z)(ge,2),Ie=Ke[0],Pe=Ke[1],$e=function(){Pe(!0)},de=function(){Pe(!1)},Y=h.useCallback(function(P){return typeof f=="function"?f(P):P==null?void 0:P[f]},[f]),ae={getKey:Y};function oe(P){he(function(O){var H;typeof P=="function"?H=P(O):H=P;var ie=Sr(H);return F.current.scrollTop=ie,ie})}var V=(0,h.useRef)({start:0,end:R.length}),Ce=(0,h.useRef)(),Xe=kn(R,Y),Je=(0,$.Z)(Xe,1),Ae=Je[0];Ce.current=Ae;var tt=Nt(Y,null,null),Oe=(0,$.Z)(tt,4),it=Oe[0],je=Oe[1],z=Oe[2],Ee=Oe[3],ue=h.useMemo(function(){if(!k)return{scrollHeight:void 0,start:0,end:R.length-1,offset:void 0};if(!I){var P;return{scrollHeight:((P=G.current)===null||P===void 0?void 0:P.offsetHeight)||0,start:0,end:R.length-1,offset:void 0}}for(var O=0,H,ie,Ue,Dr=R.length,dt=0;dt<Dr;dt+=1){var Mr=R[dt],Tr=Y(Mr),Sn=z.get(Tr),Ft=O+(Sn===void 0?u:Sn);Ft>=j&&H===void 0&&(H=dt,ie=O),Ft>j+l&&Ue===void 0&&(Ue=dt),O=Ft}return H===void 0&&(H=0,ie=0,Ue=Math.ceil(l/u)),Ue===void 0&&(Ue=R.length-1),Ue=Math.min(Ue+1,R.length-1),{scrollHeight:O,start:H,end:Ue,offset:ie}},[I,k,j,R,Ee,l]),fe=ue.scrollHeight,te=ue.start,be=ue.end,Qe=ue.offset;V.current.start=te,V.current.end=be;var _e=h.useState({width:0,height:l}),Be=(0,$.Z)(_e,2),He=Be[0],hr=Be[1],gr=function(O){hr({width:O.width||O.offsetWidth,height:O.height||O.offsetHeight})},ln=(0,h.useRef)(),cn=(0,h.useRef)(),yr=h.useMemo(function(){return Bt(He.width,y)},[He.width,y]),mr=h.useMemo(function(){return Bt(He.height,fe)},[He.height,fe]),Zt=fe-l,Lt=(0,h.useRef)(Zt);Lt.current=Zt;function Sr(P){var O=P;return Number.isNaN(Lt.current)||(O=Math.min(O,Lt.current)),O=Math.max(O,0),O}var un=j<=0,fn=j>=Zt,xr=jt(un,fn),wt=function(){return{x:D?-ee:ee,y:j}},It=(0,h.useRef)(wt()),$t=(0,pt.Z)(function(){if(x){var P=wt();(It.current.x!==P.x||It.current.y!==P.y)&&(x(P),It.current=P)}});function vn(P,O){var H=P;O?((0,Ze.flushSync)(function(){re(H)}),$t()):oe(H)}function Kr(P){var O=P.currentTarget.scrollTop;O!==j&&oe(O),S==null||S(P),$t()}var At=function(O){var H=O,ie=y-He.width;return H=Math.max(H,0),H=Math.min(H,ie),H},Er=(0,pt.Z)(function(P,O){O?((0,Ze.flushSync)(function(){re(function(H){var ie=H+(D?-P:P);return At(ie)})}),$t()):oe(function(H){var ie=H+P;return ie})}),br=Cn(k,un,fn,!!y,Er),pn=(0,$.Z)(br,2),Ht=pn[0],hn=pn[1];Mn(k,F,function(P,O){return xr(P,O)?!1:(Ht({preventDefault:function(){},deltaY:P}),!0)}),(0,ve.Z)(function(){function P(H){k&&H.preventDefault()}var O=F.current;return O.addEventListener("wheel",Ht),O.addEventListener("DOMMouseScroll",hn),O.addEventListener("MozMousePixelScroll",P),function(){O.removeEventListener("wheel",Ht),O.removeEventListener("DOMMouseScroll",hn),O.removeEventListener("MozMousePixelScroll",P)}},[k]),(0,ve.Z)(function(){y&&re(function(P){return At(P)})},[He.width,y]);var gn=function(){var O,H;(O=ln.current)===null||O===void 0||O.delayHidden(),(H=cn.current)===null||H===void 0||H.delayHidden()},yn=En(F,R,z,u,Y,function(){return je(!0)},oe,gn);h.useImperativeHandle(i,function(){return{getScrollInfo:wt,scrollTo:function(O){function H(ie){return ie&&(0,U.Z)(ie)==="object"&&("left"in ie||"top"in ie)}H(O)?(O.left!==void 0&&re(At(O.left)),yn(O.top)):yn(O)}}}),(0,ve.Z)(function(){if(K){var P=R.slice(te,be+1);K(P,R)}},[te,be,R]);var kr=Rn(R,Y,z,u),Nr=N==null?void 0:N({start:te,end:be,virtual:I,offsetX:ee,offsetY:Qe,rtl:D,getSize:kr}),Cr=kt(R,te,be,y,it,c,ae),st=null;l&&(st=(0,Z.Z)((0,T.Z)({},r?"height":"maxHeight",l),Zn),k&&(st.overflowY="hidden",y&&(st.overflowX="hidden"),Ie&&(st.pointerEvents="none")));var mn={};return D&&(mn.dir="rtl"),h.createElement("div",(0,B.Z)({style:(0,Z.Z)((0,Z.Z)({},a),{},{position:"relative"}),className:L},mn,M),h.createElement(pe.Z,{onResize:gr},h.createElement(p,{className:"".concat(e,"-holder"),style:st,ref:F,onScroll:Kr,onMouseEnter:gn},h.createElement(Ye,{prefixCls:e,height:fe,offsetX:ee,offsetY:Qe,scrollWidth:y,onInnerResize:je,ref:G,innerProps:E,rtl:D,extra:Nr},Cr))),I&&fe>l&&h.createElement(qe,{ref:ln,prefixCls:e,scrollOffset:j,scrollRange:fe,rtl:D,onScroll:vn,onStartMove:$e,onStopMove:de,spinSize:mr,containerSize:He.height,style:b==null?void 0:b.verticalScrollBar,thumbStyle:b==null?void 0:b.verticalScrollBarThumb}),I&&y&&h.createElement(qe,{ref:cn,prefixCls:e,scrollOffset:ee,scrollRange:y,rtl:D,onScroll:vn,onStartMove:$e,onStopMove:de,spinSize:yr,containerSize:He.width,horizontal:!0,style:b==null?void 0:b.horizontalScrollBar,thumbStyle:b==null?void 0:b.horizontalScrollBarThumb}))}var Ut=h.forwardRef(Ln);Ut.displayName="List";var wn=Ut,In=wn,$n=C(82225),An=function(i){for(var s=i.prefixCls,e=i.level,o=i.isStart,l=i.isEnd,u="".concat(s,"-indent-unit"),t=[],r=0;r<e;r+=1){var a;t.push(h.createElement("span",{key:r,className:se()(u,(a={},(0,T.Z)(a,"".concat(u,"-start"),o[r]),(0,T.Z)(a,"".concat(u,"-end"),l[r]),a))}))}return h.createElement("span",{"aria-hidden":"true",className:"".concat(s,"-indent")},t)},Hn=h.memo(An);function Se(n,i){return n[i]}var Fn=C(50344),zn=C(98423),Wn=["children"];function Gt(n,i){return"".concat(n,"-").concat(i)}function jn(n){return n&&n.type&&n.type.isTreeNode}function at(n,i){return n!=null?n:i}function yt(n){var i=n||{},s=i.title,e=i._title,o=i.key,l=i.children,u=s||"title";return{title:u,_title:e||[u],key:o||"key",children:l||"children"}}function Or(n,i){var s=new Map;function e(o){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";(o||[]).forEach(function(u){var t=u[i.key],r=u[i.children];warning(t!=null,"Tree node must have a certain key: [".concat(l).concat(t,"]"));var a=String(t);warning(!s.has(a)||t===null||t===void 0,"Same 'key' exist in the Tree: ".concat(a)),s.set(a,!0),e(r,"".concat(l).concat(a," > "))})}e(n)}function Bn(n){function i(s){var e=(0,Fn.Z)(s);return e.map(function(o){if(!jn(o))return(0,Te.ZP)(!o,"Tree/TreeNode can only accept TreeNode as children."),null;var l=o.key,u=o.props,t=u.children,r=(0,ce.Z)(u,Wn),a=(0,Z.Z)({key:l},r),d=i(t);return d.length&&(a.children=d),a}).filter(function(o){return o})}return i(n)}function Ct(n,i,s){var e=yt(s),o=e._title,l=e.key,u=e.children,t=new Set(i===!0?[]:i),r=[];function a(d){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return d.map(function(f,v){for(var g=Gt(c?c.pos:"0",v),y=at(f[l],g),m,p=0;p<o.length;p+=1){var S=o[p];if(f[S]!==void 0){m=f[S];break}}var x=(0,Z.Z)((0,Z.Z)({},(0,zn.Z)(f,[].concat((0,_.Z)(o),[l,u]))),{},{title:m,key:y,parent:c,pos:g,children:null,data:f,isStart:[].concat((0,_.Z)(c?c.isStart:[]),[v===0]),isEnd:[].concat((0,_.Z)(c?c.isEnd:[]),[v===d.length-1])});return r.push(x),i===!0||t.has(y)?x.children=a(f[u]||[],x):x.children=[],x})}return a(n),r}function Un(n,i,s){var e={};(0,U.Z)(s)==="object"?e=s:e={externalGetKey:s},e=e||{};var o=e,l=o.childrenPropName,u=o.externalGetKey,t=o.fieldNames,r=yt(t),a=r.key,d=r.children,c=l||d,f;u?typeof u=="string"?f=function(y){return y[u]}:typeof u=="function"&&(f=function(y){return u(y)}):f=function(y,m){return at(y[a],m)};function v(g,y,m,p){var S=g?g[c]:n,x=g?Gt(m.pos,y):"0",K=g?[].concat((0,_.Z)(p),[g]):[];if(g){var E=f(g,x),N={node:g,index:y,pos:x,key:E,parentPos:m.node?m.pos:null,level:m.level+1,nodes:K};i(N)}S&&S.forEach(function(b,M){v(b,M,{node:g,pos:x,level:m?m.level+1:-1},K)})}v(null)}function Gn(n){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=i.initWrapper,e=i.processEntity,o=i.onProcessFinished,l=i.externalGetKey,u=i.childrenPropName,t=i.fieldNames,r=arguments.length>2?arguments[2]:void 0,a=l||r,d={},c={},f={posEntities:d,keyEntities:c};return s&&(f=s(f)||f),Un(n,function(v){var g=v.node,y=v.index,m=v.pos,p=v.key,S=v.parentPos,x=v.level,K=v.nodes,E={node:g,nodes:K,index:y,key:p,pos:m,level:x},N=at(p,m);d[m]=E,c[N]=E,E.parent=d[S],E.parent&&(E.parent.children=E.parent.children||[],E.parent.children.push(E)),e&&e(E,f)},{externalGetKey:a,childrenPropName:u,fieldNames:t}),o&&o(f),f}function ot(n,i){var s=i.expandedKeys,e=i.selectedKeys,o=i.loadedKeys,l=i.loadingKeys,u=i.checkedKeys,t=i.halfCheckedKeys,r=i.dragOverNodeKey,a=i.dropPosition,d=i.keyEntities,c=Se(d,n),f={eventKey:n,expanded:s.indexOf(n)!==-1,selected:e.indexOf(n)!==-1,loaded:o.indexOf(n)!==-1,loading:l.indexOf(n)!==-1,checked:u.indexOf(n)!==-1,halfChecked:t.indexOf(n)!==-1,pos:String(c?c.pos:""),dragOver:r===n&&a===0,dragOverGapTop:r===n&&a===-1,dragOverGapBottom:r===n&&a===1};return f}function Q(n){var i=n.data,s=n.expanded,e=n.selected,o=n.checked,l=n.loaded,u=n.loading,t=n.halfChecked,r=n.dragOver,a=n.dragOverGapTop,d=n.dragOverGapBottom,c=n.pos,f=n.active,v=n.eventKey,g=(0,Z.Z)((0,Z.Z)({},i),{},{expanded:s,selected:e,checked:o,loaded:l,loading:u,halfChecked:t,dragOver:r,dragOverGapTop:a,dragOverGapBottom:d,pos:c,active:f,key:v});return"props"in g||Object.defineProperty(g,"props",{get:function(){return(0,Te.ZP)(!1,"Second param return from event is node data instead of TreeNode instance. Please read value directly instead of reading from `props`."),n}}),g}var Yn=["eventKey","className","style","dragOver","dragOverGapTop","dragOverGapBottom","isLeaf","isStart","isEnd","expanded","selected","checked","halfChecked","loading","domRef","active","data","onMouseMove","selectable"],Yt="open",Vt="close",Vn="---",Xn=function(n){(0,lt.Z)(s,n);var i=(0,ct.Z)(s);function s(){var e;(0,le.Z)(this,s);for(var o=arguments.length,l=new Array(o),u=0;u<o;u++)l[u]=arguments[u];return e=i.call.apply(i,[this].concat(l)),e.state={dragNodeHighlight:!1},e.selectHandle=void 0,e.cacheIndent=void 0,e.onSelectorClick=function(t){var r=e.props.context.onNodeClick;r(t,Q(e.props)),e.isSelectable()?e.onSelect(t):e.onCheck(t)},e.onSelectorDoubleClick=function(t){var r=e.props.context.onNodeDoubleClick;r(t,Q(e.props))},e.onSelect=function(t){if(!e.isDisabled()){var r=e.props.context.onNodeSelect;r(t,Q(e.props))}},e.onCheck=function(t){if(!e.isDisabled()){var r=e.props,a=r.disableCheckbox,d=r.checked,c=e.props.context.onNodeCheck;if(!(!e.isCheckable()||a)){var f=!d;c(t,Q(e.props),f)}}},e.onMouseEnter=function(t){var r=e.props.context.onNodeMouseEnter;r(t,Q(e.props))},e.onMouseLeave=function(t){var r=e.props.context.onNodeMouseLeave;r(t,Q(e.props))},e.onContextMenu=function(t){var r=e.props.context.onNodeContextMenu;r(t,Q(e.props))},e.onDragStart=function(t){var r=e.props.context.onNodeDragStart;t.stopPropagation(),e.setState({dragNodeHighlight:!0}),r(t,(0,ye.Z)(e));try{t.dataTransfer.setData("text/plain","")}catch(a){}},e.onDragEnter=function(t){var r=e.props.context.onNodeDragEnter;t.preventDefault(),t.stopPropagation(),r(t,(0,ye.Z)(e))},e.onDragOver=function(t){var r=e.props.context.onNodeDragOver;t.preventDefault(),t.stopPropagation(),r(t,(0,ye.Z)(e))},e.onDragLeave=function(t){var r=e.props.context.onNodeDragLeave;t.stopPropagation(),r(t,(0,ye.Z)(e))},e.onDragEnd=function(t){var r=e.props.context.onNodeDragEnd;t.stopPropagation(),e.setState({dragNodeHighlight:!1}),r(t,(0,ye.Z)(e))},e.onDrop=function(t){var r=e.props.context.onNodeDrop;t.preventDefault(),t.stopPropagation(),e.setState({dragNodeHighlight:!1}),r(t,(0,ye.Z)(e))},e.onExpand=function(t){var r=e.props,a=r.loading,d=r.context.onNodeExpand;a||d(t,Q(e.props))},e.setSelectHandle=function(t){e.selectHandle=t},e.getNodeState=function(){var t=e.props.expanded;return e.isLeaf()?null:t?Yt:Vt},e.hasChildren=function(){var t=e.props.eventKey,r=e.props.context.keyEntities,a=Se(r,t)||{},d=a.children;return!!(d||[]).length},e.isLeaf=function(){var t=e.props,r=t.isLeaf,a=t.loaded,d=e.props.context.loadData,c=e.hasChildren();return r===!1?!1:r||!d&&!c||d&&a&&!c},e.isDisabled=function(){var t=e.props.disabled,r=e.props.context.disabled;return!!(r||t)},e.isCheckable=function(){var t=e.props.checkable,r=e.props.context.checkable;return!r||t===!1?!1:r},e.syncLoadData=function(t){var r=t.expanded,a=t.loading,d=t.loaded,c=e.props.context,f=c.loadData,v=c.onNodeLoad;a||f&&r&&!e.isLeaf()&&!e.hasChildren()&&!d&&v(Q(e.props))},e.isDraggable=function(){var t=e.props,r=t.data,a=t.context.draggable;return!!(a&&(!a.nodeDraggable||a.nodeDraggable(r)))},e.renderDragHandler=function(){var t=e.props.context,r=t.draggable,a=t.prefixCls;return r!=null&&r.icon?h.createElement("span",{className:"".concat(a,"-draggable-icon")},r.icon):null},e.renderSwitcherIconDom=function(t){var r=e.props.switcherIcon,a=e.props.context.switcherIcon,d=r||a;return typeof d=="function"?d((0,Z.Z)((0,Z.Z)({},e.props),{},{isLeaf:t})):d},e.renderSwitcher=function(){var t=e.props.expanded,r=e.props.context.prefixCls;if(e.isLeaf()){var a=e.renderSwitcherIconDom(!0);return a!==!1?h.createElement("span",{className:se()("".concat(r,"-switcher"),"".concat(r,"-switcher-noop"))},a):null}var d=se()("".concat(r,"-switcher"),"".concat(r,"-switcher_").concat(t?Yt:Vt)),c=e.renderSwitcherIconDom(!1);return c!==!1?h.createElement("span",{onClick:e.onExpand,className:d},c):null},e.renderCheckbox=function(){var t=e.props,r=t.checked,a=t.halfChecked,d=t.disableCheckbox,c=e.props.context.prefixCls,f=e.isDisabled(),v=e.isCheckable();if(!v)return null;var g=typeof v!="boolean"?v:null;return h.createElement("span",{className:se()("".concat(c,"-checkbox"),r&&"".concat(c,"-checkbox-checked"),!r&&a&&"".concat(c,"-checkbox-indeterminate"),(f||d)&&"".concat(c,"-checkbox-disabled")),onClick:e.onCheck},g)},e.renderIcon=function(){var t=e.props.loading,r=e.props.context.prefixCls;return h.createElement("span",{className:se()("".concat(r,"-iconEle"),"".concat(r,"-icon__").concat(e.getNodeState()||"docu"),t&&"".concat(r,"-icon_loading"))})},e.renderSelector=function(){var t=e.state.dragNodeHighlight,r=e.props,a=r.title,d=a===void 0?Vn:a,c=r.selected,f=r.icon,v=r.loading,g=r.data,y=e.props.context,m=y.prefixCls,p=y.showIcon,S=y.icon,x=y.loadData,K=y.titleRender,E=e.isDisabled(),N="".concat(m,"-node-content-wrapper"),b;if(p){var M=f||S;b=M?h.createElement("span",{className:se()("".concat(m,"-iconEle"),"".concat(m,"-icon__customize"))},typeof M=="function"?M(e.props):M):e.renderIcon()}else x&&v&&(b=e.renderIcon());var k;typeof d=="function"?k=d(g):K?k=K(g):k=d;var I=h.createElement("span",{className:"".concat(m,"-title")},k);return h.createElement("span",{ref:e.setSelectHandle,title:typeof d=="string"?d:"",className:se()("".concat(N),"".concat(N,"-").concat(e.getNodeState()||"normal"),!E&&(c||t)&&"".concat(m,"-node-selected")),onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave,onContextMenu:e.onContextMenu,onClick:e.onSelectorClick,onDoubleClick:e.onSelectorDoubleClick},b,I,e.renderDropIndicator())},e.renderDropIndicator=function(){var t=e.props,r=t.disabled,a=t.eventKey,d=e.props.context,c=d.draggable,f=d.dropLevelOffset,v=d.dropPosition,g=d.prefixCls,y=d.indent,m=d.dropIndicatorRender,p=d.dragOverNodeKey,S=d.direction,x=!!c,K=!r&&x&&p===a,E=y!=null?y:e.cacheIndent;return e.cacheIndent=y,K?m({dropPosition:v,dropLevelOffset:f,indent:E,prefixCls:g,direction:S}):null},e}return(0,Me.Z)(s,[{key:"componentDidMount",value:function(){this.syncLoadData(this.props)}},{key:"componentDidUpdate",value:function(){this.syncLoadData(this.props)}},{key:"isSelectable",value:function(){var o=this.props.selectable,l=this.props.context.selectable;return typeof o=="boolean"?o:l}},{key:"render",value:function(){var o,l=this.props,u=l.eventKey,t=l.className,r=l.style,a=l.dragOver,d=l.dragOverGapTop,c=l.dragOverGapBottom,f=l.isLeaf,v=l.isStart,g=l.isEnd,y=l.expanded,m=l.selected,p=l.checked,S=l.halfChecked,x=l.loading,K=l.domRef,E=l.active,N=l.data,b=l.onMouseMove,M=l.selectable,k=(0,ce.Z)(l,Yn),I=this.props.context,D=I.prefixCls,L=I.filterTreeNode,R=I.keyEntities,F=I.dropContainerKey,G=I.dropTargetKey,q=I.draggingNodeKey,W=this.isDisabled(),j=ut(k,{aria:!0,data:!0}),he=Se(R,u)||{},xe=he.level,ke=g[g.length-1],ee=this.isDraggable(),re=!W&&ee,ge=q===u,Ke=M!==void 0?{"aria-selected":!!M}:void 0;return h.createElement("div",(0,B.Z)({ref:K,className:se()(t,"".concat(D,"-treenode"),(o={},(0,T.Z)(o,"".concat(D,"-treenode-disabled"),W),(0,T.Z)(o,"".concat(D,"-treenode-switcher-").concat(y?"open":"close"),!f),(0,T.Z)(o,"".concat(D,"-treenode-checkbox-checked"),p),(0,T.Z)(o,"".concat(D,"-treenode-checkbox-indeterminate"),S),(0,T.Z)(o,"".concat(D,"-treenode-selected"),m),(0,T.Z)(o,"".concat(D,"-treenode-loading"),x),(0,T.Z)(o,"".concat(D,"-treenode-active"),E),(0,T.Z)(o,"".concat(D,"-treenode-leaf-last"),ke),(0,T.Z)(o,"".concat(D,"-treenode-draggable"),ee),(0,T.Z)(o,"dragging",ge),(0,T.Z)(o,"drop-target",G===u),(0,T.Z)(o,"drop-container",F===u),(0,T.Z)(o,"drag-over",!W&&a),(0,T.Z)(o,"drag-over-gap-top",!W&&d),(0,T.Z)(o,"drag-over-gap-bottom",!W&&c),(0,T.Z)(o,"filter-node",L&&L(Q(this.props))),o)),style:r,draggable:re,"aria-grabbed":ge,onDragStart:re?this.onDragStart:void 0,onDragEnter:ee?this.onDragEnter:void 0,onDragOver:ee?this.onDragOver:void 0,onDragLeave:ee?this.onDragLeave:void 0,onDrop:ee?this.onDrop:void 0,onDragEnd:ee?this.onDragEnd:void 0,onMouseMove:b},Ke,j),h.createElement(Hn,{prefixCls:D,level:xe,isStart:v,isEnd:g}),this.renderDragHandler(),this.renderSwitcher(),this.renderCheckbox(),this.renderSelector())}}]),s}(h.Component),Dt=function(i){return h.createElement(w.Consumer,null,function(s){return h.createElement(Xn,(0,B.Z)({},i,{context:s}))})};Dt.displayName="TreeNode",Dt.isTreeNode=1;var Mt=Dt;function Jn(n,i){var s=h.useState(!1),e=(0,$.Z)(s,2),o=e[0],l=e[1];(0,ve.Z)(function(){if(o)return n(),function(){i()}},[o]),(0,ve.Z)(function(){return l(!0),function(){l(!1)}},[])}var Qn=["className","style","motion","motionNodes","motionType","onMotionStart","onMotionEnd","active","treeNodeRequiredProps"],Xt=function(i,s){var e=i.className,o=i.style,l=i.motion,u=i.motionNodes,t=i.motionType,r=i.onMotionStart,a=i.onMotionEnd,d=i.active,c=i.treeNodeRequiredProps,f=(0,ce.Z)(i,Qn),v=h.useState(!0),g=(0,$.Z)(v,2),y=g[0],m=g[1],p=h.useContext(w),S=p.prefixCls,x=u&&t!=="hide";(0,ve.Z)(function(){u&&x!==y&&m(x)},[u]);var K=function(){u&&r()},E=h.useRef(!1),N=function(){u&&!E.current&&(E.current=!0,a())};Jn(K,N);var b=function(k){x===k&&N()};return u?h.createElement($n.ZP,(0,B.Z)({ref:s,visible:y},l,{motionAppear:t==="show",onVisibleChanged:b}),function(M,k){var I=M.className,D=M.style;return h.createElement("div",{ref:k,className:se()("".concat(S,"-treenode-motion"),I),style:D},u.map(function(L){var R=(0,B.Z)({},(ne(L.data),L.data)),F=L.title,G=L.key,q=L.isStart,W=L.isEnd;delete R.children;var j=ot(G,c);return h.createElement(Mt,(0,B.Z)({},R,j,{title:F,active:d,data:L.data,key:G,isStart:q,isEnd:W}))}))}):h.createElement(Mt,(0,B.Z)({domRef:s,className:e,style:o},f,{active:d}))};Xt.displayName="MotionTreeNode";var _n=h.forwardRef(Xt),qn=_n;function er(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],s=n.length,e=i.length;if(Math.abs(s-e)!==1)return{add:!1,key:null};function o(l,u){var t=new Map;l.forEach(function(a){t.set(a,!0)});var r=u.filter(function(a){return!t.has(a)});return r.length===1?r[0]:null}return s<e?{add:!0,key:o(n,i)}:{add:!1,key:o(i,n)}}function Jt(n,i,s){var e=n.findIndex(function(t){return t.key===s}),o=n[e+1],l=i.findIndex(function(t){return t.key===s});if(o){var u=i.findIndex(function(t){return t.key===o.key});return i.slice(l+1,u)}return i.slice(l+1)}var tr=["prefixCls","data","selectable","checkable","expandedKeys","selectedKeys","checkedKeys","loadedKeys","loadingKeys","halfCheckedKeys","keyEntities","disabled","dragging","dragOverNodeKey","dropPosition","motion","height","itemHeight","virtual","focusable","activeItem","focused","tabIndex","onKeyDown","onFocus","onBlur","onActiveChange","onListChangeStart","onListChangeEnd"],Qt={width:0,height:0,display:"flex",overflow:"hidden",opacity:0,border:0,padding:0,margin:0},nr=function(){},Ve="RC_TREE_MOTION_".concat(Math.random()),Tt={key:Ve},_t={key:Ve,level:0,index:0,pos:"0",node:Tt,nodes:[Tt]},qt={parent:null,children:[],pos:_t.pos,data:Tt,title:null,key:Ve,isStart:[],isEnd:[]};function en(n,i,s,e){return i===!1||!s?n:n.slice(0,Math.ceil(s/e)+1)}function tn(n){var i=n.key,s=n.pos;return at(i,s)}function rr(n){for(var i=String(n.data.key),s=n;s.parent;)s=s.parent,i="".concat(s.data.key," > ").concat(i);return i}var nn=h.forwardRef(function(n,i){var s=n.prefixCls,e=n.data,o=n.selectable,l=n.checkable,u=n.expandedKeys,t=n.selectedKeys,r=n.checkedKeys,a=n.loadedKeys,d=n.loadingKeys,c=n.halfCheckedKeys,f=n.keyEntities,v=n.disabled,g=n.dragging,y=n.dragOverNodeKey,m=n.dropPosition,p=n.motion,S=n.height,x=n.itemHeight,K=n.virtual,E=n.focusable,N=n.activeItem,b=n.focused,M=n.tabIndex,k=n.onKeyDown,I=n.onFocus,D=n.onBlur,L=n.onActiveChange,R=n.onListChangeStart,F=n.onListChangeEnd,G=(0,ce.Z)(n,tr),q=h.useRef(null),W=h.useRef(null);h.useImperativeHandle(i,function(){return{scrollTo:function(Ee){q.current.scrollTo(Ee)},getIndentWidth:function(){return W.current.offsetWidth}}});var j=h.useState(u),he=(0,$.Z)(j,2),xe=he[0],ke=he[1],ee=h.useState(e),re=(0,$.Z)(ee,2),ge=re[0],Ke=re[1],Ie=h.useState(e),Pe=(0,$.Z)(Ie,2),$e=Pe[0],de=Pe[1],Y=h.useState([]),ae=(0,$.Z)(Y,2),oe=ae[0],V=ae[1],Ce=h.useState(null),Xe=(0,$.Z)(Ce,2),Je=Xe[0],Ae=Xe[1],tt=h.useRef(e);tt.current=e;function Oe(){var z=tt.current;Ke(z),de(z),V([]),Ae(null),F()}(0,ve.Z)(function(){ke(u);var z=er(xe,u);if(z.key!==null)if(z.add){var Ee=ge.findIndex(function(_e){var Be=_e.key;return Be===z.key}),ue=en(Jt(ge,e,z.key),K,S,x),fe=ge.slice();fe.splice(Ee+1,0,qt),de(fe),V(ue),Ae("show")}else{var te=e.findIndex(function(_e){var Be=_e.key;return Be===z.key}),be=en(Jt(e,ge,z.key),K,S,x),Qe=e.slice();Qe.splice(te+1,0,qt),de(Qe),V(be),Ae("hide")}else ge!==e&&(Ke(e),de(e))},[u,e]),h.useEffect(function(){g||Oe()},[g]);var it=p?$e:e,je={expandedKeys:u,selectedKeys:t,loadedKeys:a,loadingKeys:d,checkedKeys:r,halfCheckedKeys:c,dragOverNodeKey:y,dropPosition:m,keyEntities:f};return h.createElement(h.Fragment,null,b&&N&&h.createElement("span",{style:Qt,"aria-live":"assertive"},rr(N)),h.createElement("div",null,h.createElement("input",{style:Qt,disabled:E===!1||v,tabIndex:E!==!1?M:null,onKeyDown:k,onFocus:I,onBlur:D,value:"",onChange:nr,"aria-label":"for screen reader"})),h.createElement("div",{className:"".concat(s,"-treenode"),"aria-hidden":!0,style:{position:"absolute",pointerEvents:"none",visibility:"hidden",height:0,overflow:"hidden",border:0,padding:0}},h.createElement("div",{className:"".concat(s,"-indent")},h.createElement("div",{ref:W,className:"".concat(s,"-indent-unit")}))),h.createElement(In,(0,B.Z)({},G,{data:it,itemKey:tn,height:S,fullHeight:!1,virtual:K,itemHeight:x,prefixCls:"".concat(s,"-list"),ref:q,onVisibleChange:function(Ee,ue){var fe=new Set(Ee),te=ue.filter(function(be){return!fe.has(be)});te.some(function(be){return tn(be)===Ve})&&Oe()}}),function(z){var Ee=z.pos,ue=(0,B.Z)({},(ne(z.data),z.data)),fe=z.title,te=z.key,be=z.isStart,Qe=z.isEnd,_e=at(te,Ee);delete ue.key,delete ue.children;var Be=ot(_e,je);return h.createElement(qn,(0,B.Z)({},ue,Be,{title:fe,active:!!N&&te===N.key,pos:Ee,data:z.data,isStart:be,isEnd:Qe,motion:p,motionNodes:te===Ve?oe:null,motionType:Je,onMotionStart:R,onMotionEnd:Oe,treeNodeRequiredProps:je,onMouseMove:function(){L(null)}}))}))});nn.displayName="NodeList";var ar=nn,or=null;function we(n,i){if(!n)return[];var s=n.slice(),e=s.indexOf(i);return e>=0&&s.splice(e,1),s}function We(n,i){var s=(n||[]).slice();return s.indexOf(i)===-1&&s.push(i),s}function Rt(n){return n.split("-")}function ir(n,i){var s=[],e=Se(i,n);function o(){var l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];l.forEach(function(u){var t=u.key,r=u.children;s.push(t),o(r)})}return o(e.children),s}function sr(n){if(n.parent){var i=Rt(n.pos);return Number(i[i.length-1])===n.parent.children.length-1}return!1}function dr(n){var i=Rt(n.pos);return Number(i[i.length-1])===0}function rn(n,i,s,e,o,l,u,t,r,a){var d,c=n.clientX,f=n.clientY,v=n.target.getBoundingClientRect(),g=v.top,y=v.height,m=(a==="rtl"?-1:1)*(((o==null?void 0:o.x)||0)-c),p=(m-12)/e,S=Se(t,s.props.eventKey);if(f<g+y/2){var x=u.findIndex(function(G){return G.key===S.key}),K=x<=0?0:x-1,E=u[K].key;S=Se(t,E)}var N=S.key,b=S,M=S.key,k=0,I=0;if(!r.includes(N))for(var D=0;D<p&&sr(S);D+=1)S=S.parent,I+=1;var L=i.props.data,R=S.node,F=!0;return dr(S)&&S.level===0&&f<g+y/2&&l({dragNode:L,dropNode:R,dropPosition:-1})&&S.key===s.props.eventKey?k=-1:(b.children||[]).length&&r.includes(M)?l({dragNode:L,dropNode:R,dropPosition:0})?k=0:F=!1:I===0?p>-1.5?l({dragNode:L,dropNode:R,dropPosition:1})?k=1:F=!1:l({dragNode:L,dropNode:R,dropPosition:0})?k=0:l({dragNode:L,dropNode:R,dropPosition:1})?k=1:F=!1:l({dragNode:L,dropNode:R,dropPosition:1})?k=1:F=!1,{dropPosition:k,dropLevelOffset:I,dropTargetKey:S.key,dropTargetPos:S.pos,dragOverNodeKey:M,dropContainerKey:k===0?null:((d=S.parent)===null||d===void 0?void 0:d.key)||null,dropAllowed:F}}function an(n,i){if(n){var s=i.multiple;return s?n.slice():n.length?[n[0]]:n}}var lr=function(i){return i};function cr(n,i){if(!n)return[];var s=i||{},e=s.processProps,o=e===void 0?lr:e,l=Array.isArray(n)?n:[n];return l.map(function(u){var t=u.children,r=_objectWithoutProperties(u,or),a=cr(t,i);return React.createElement(TreeNode,_extends({key:r.key},o(r)),a)})}function Pt(n){if(!n)return null;var i;if(Array.isArray(n))i={checkedKeys:n,halfCheckedKeys:void 0};else if((0,U.Z)(n)==="object")i={checkedKeys:n.checked||void 0,halfCheckedKeys:n.halfChecked||void 0};else return(0,Te.ZP)(!1,"`checkedKeys` is not an array or an object"),null;return i}function on(n,i){var s=new Set;function e(o){if(!s.has(o)){var l=Se(i,o);if(l){s.add(o);var u=l.parent,t=l.node;t.disabled||u&&e(u.key)}}}return(n||[]).forEach(function(o){e(o)}),(0,_.Z)(s)}function sn(n,i){var s=new Set;return n.forEach(function(e){i.has(e)||s.add(e)}),s}function ur(n){var i=n||{},s=i.disabled,e=i.disableCheckbox,o=i.checkable;return!!(s||e)||o===!1}function fr(n,i,s,e){for(var o=new Set(n),l=new Set,u=0;u<=s;u+=1){var t=i.get(u)||new Set;t.forEach(function(c){var f=c.key,v=c.node,g=c.children,y=g===void 0?[]:g;o.has(f)&&!e(v)&&y.filter(function(m){return!e(m.node)}).forEach(function(m){o.add(m.key)})})}for(var r=new Set,a=s;a>=0;a-=1){var d=i.get(a)||new Set;d.forEach(function(c){var f=c.parent,v=c.node;if(!(e(v)||!c.parent||r.has(c.parent.key))){if(e(c.parent.node)){r.add(f.key);return}var g=!0,y=!1;(f.children||[]).filter(function(m){return!e(m.node)}).forEach(function(m){var p=m.key,S=o.has(p);g&&!S&&(g=!1),!y&&(S||l.has(p))&&(y=!0)}),g&&o.add(f.key),y&&l.add(f.key),r.add(f.key)}})}return{checkedKeys:Array.from(o),halfCheckedKeys:Array.from(sn(l,o))}}function vr(n,i,s,e,o){for(var l=new Set(n),u=new Set(i),t=0;t<=e;t+=1){var r=s.get(t)||new Set;r.forEach(function(f){var v=f.key,g=f.node,y=f.children,m=y===void 0?[]:y;!l.has(v)&&!u.has(v)&&!o(g)&&m.filter(function(p){return!o(p.node)}).forEach(function(p){l.delete(p.key)})})}u=new Set;for(var a=new Set,d=e;d>=0;d-=1){var c=s.get(d)||new Set;c.forEach(function(f){var v=f.parent,g=f.node;if(!(o(g)||!f.parent||a.has(f.parent.key))){if(o(f.parent.node)){a.add(v.key);return}var y=!0,m=!1;(v.children||[]).filter(function(p){return!o(p.node)}).forEach(function(p){var S=p.key,x=l.has(S);y&&!x&&(y=!1),!m&&(x||u.has(S))&&(m=!0)}),y||l.delete(v.key),m&&u.add(v.key),a.add(v.key)}})}return{checkedKeys:Array.from(l),halfCheckedKeys:Array.from(sn(u,l))}}function Ot(n,i,s,e){var o=[],l;e?l=e:l=ur;var u=new Set(n.filter(function(d){var c=!!Se(s,d);return c||o.push(d),c})),t=new Map,r=0;Object.keys(s).forEach(function(d){var c=s[d],f=c.level,v=t.get(f);v||(v=new Set,t.set(f,v)),v.add(c),r=Math.max(r,f)}),(0,Te.ZP)(!o.length,"Tree missing follow keys: ".concat(o.slice(0,100).map(function(d){return"'".concat(d,"'")}).join(", ")));var a;return i===!0?a=fr(u,t,r,l):a=vr(u,i.halfCheckedKeys,t,r,l),a}var pr=10,dn=function(n){(0,lt.Z)(s,n);var i=(0,ct.Z)(s);function s(){var e;(0,le.Z)(this,s);for(var o=arguments.length,l=new Array(o),u=0;u<o;u++)l[u]=arguments[u];return e=i.call.apply(i,[this].concat(l)),e.destroyed=!1,e.delayedDragEnterLogic=void 0,e.loadingRetryTimes={},e.state={keyEntities:{},indent:null,selectedKeys:[],checkedKeys:[],halfCheckedKeys:[],loadedKeys:[],loadingKeys:[],expandedKeys:[],draggingNodeKey:null,dragChildrenKeys:[],dropTargetKey:null,dropPosition:null,dropContainerKey:null,dropLevelOffset:null,dropTargetPos:null,dropAllowed:!0,dragOverNodeKey:null,treeData:[],flattenNodes:[],focused:!1,activeKey:null,listChanging:!1,prevProps:null,fieldNames:yt()},e.dragStartMousePosition=null,e.dragNode=void 0,e.currentMouseOverDroppableNodeKey=null,e.listRef=h.createRef(),e.onNodeDragStart=function(t,r){var a=e.state,d=a.expandedKeys,c=a.keyEntities,f=e.props.onDragStart,v=r.props.eventKey;e.dragNode=r,e.dragStartMousePosition={x:t.clientX,y:t.clientY};var g=we(d,v);e.setState({draggingNodeKey:v,dragChildrenKeys:ir(v,c),indent:e.listRef.current.getIndentWidth()}),e.setExpandedKeys(g),window.addEventListener("dragend",e.onWindowDragEnd),f==null||f({event:t,node:Q(r.props)})},e.onNodeDragEnter=function(t,r){var a=e.state,d=a.expandedKeys,c=a.keyEntities,f=a.dragChildrenKeys,v=a.flattenNodes,g=a.indent,y=e.props,m=y.onDragEnter,p=y.onExpand,S=y.allowDrop,x=y.direction,K=r.props,E=K.pos,N=K.eventKey,b=(0,ye.Z)(e),M=b.dragNode;if(e.currentMouseOverDroppableNodeKey!==N&&(e.currentMouseOverDroppableNodeKey=N),!M){e.resetDragState();return}var k=rn(t,M,r,g,e.dragStartMousePosition,S,v,c,d,x),I=k.dropPosition,D=k.dropLevelOffset,L=k.dropTargetKey,R=k.dropContainerKey,F=k.dropTargetPos,G=k.dropAllowed,q=k.dragOverNodeKey;if(f.indexOf(L)!==-1||!G){e.resetDragState();return}if(e.delayedDragEnterLogic||(e.delayedDragEnterLogic={}),Object.keys(e.delayedDragEnterLogic).forEach(function(W){clearTimeout(e.delayedDragEnterLogic[W])}),M.props.eventKey!==r.props.eventKey&&(t.persist(),e.delayedDragEnterLogic[E]=window.setTimeout(function(){if(e.state.draggingNodeKey!==null){var W=(0,_.Z)(d),j=Se(c,r.props.eventKey);j&&(j.children||[]).length&&(W=We(d,r.props.eventKey)),"expandedKeys"in e.props||e.setExpandedKeys(W),p==null||p(W,{node:Q(r.props),expanded:!0,nativeEvent:t.nativeEvent})}},800)),M.props.eventKey===L&&D===0){e.resetDragState();return}e.setState({dragOverNodeKey:q,dropPosition:I,dropLevelOffset:D,dropTargetKey:L,dropContainerKey:R,dropTargetPos:F,dropAllowed:G}),m==null||m({event:t,node:Q(r.props),expandedKeys:d})},e.onNodeDragOver=function(t,r){var a=e.state,d=a.dragChildrenKeys,c=a.flattenNodes,f=a.keyEntities,v=a.expandedKeys,g=a.indent,y=e.props,m=y.onDragOver,p=y.allowDrop,S=y.direction,x=(0,ye.Z)(e),K=x.dragNode;if(K){var E=rn(t,K,r,g,e.dragStartMousePosition,p,c,f,v,S),N=E.dropPosition,b=E.dropLevelOffset,M=E.dropTargetKey,k=E.dropContainerKey,I=E.dropAllowed,D=E.dropTargetPos,L=E.dragOverNodeKey;d.indexOf(M)!==-1||!I||(K.props.eventKey===M&&b===0?e.state.dropPosition===null&&e.state.dropLevelOffset===null&&e.state.dropTargetKey===null&&e.state.dropContainerKey===null&&e.state.dropTargetPos===null&&e.state.dropAllowed===!1&&e.state.dragOverNodeKey===null||e.resetDragState():N===e.state.dropPosition&&b===e.state.dropLevelOffset&&M===e.state.dropTargetKey&&k===e.state.dropContainerKey&&D===e.state.dropTargetPos&&I===e.state.dropAllowed&&L===e.state.dragOverNodeKey||e.setState({dropPosition:N,dropLevelOffset:b,dropTargetKey:M,dropContainerKey:k,dropTargetPos:D,dropAllowed:I,dragOverNodeKey:L}),m==null||m({event:t,node:Q(r.props)}))}},e.onNodeDragLeave=function(t,r){e.currentMouseOverDroppableNodeKey===r.props.eventKey&&!t.currentTarget.contains(t.relatedTarget)&&(e.resetDragState(),e.currentMouseOverDroppableNodeKey=null);var a=e.props.onDragLeave;a==null||a({event:t,node:Q(r.props)})},e.onWindowDragEnd=function(t){e.onNodeDragEnd(t,null,!0),window.removeEventListener("dragend",e.onWindowDragEnd)},e.onNodeDragEnd=function(t,r){var a=e.props.onDragEnd;e.setState({dragOverNodeKey:null}),e.cleanDragState(),a==null||a({event:t,node:Q(r.props)}),e.dragNode=null,window.removeEventListener("dragend",e.onWindowDragEnd)},e.onNodeDrop=function(t,r){var a,d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,c=e.state,f=c.dragChildrenKeys,v=c.dropPosition,g=c.dropTargetKey,y=c.dropTargetPos,m=c.dropAllowed;if(m){var p=e.props.onDrop;if(e.setState({dragOverNodeKey:null}),e.cleanDragState(),g!==null){var S=(0,Z.Z)((0,Z.Z)({},ot(g,e.getTreeNodeRequiredProps())),{},{active:((a=e.getActiveItem())===null||a===void 0?void 0:a.key)===g,data:Se(e.state.keyEntities,g).node}),x=f.indexOf(g)!==-1;(0,Te.ZP)(!x,"Can not drop to dragNode's children node. This is a bug of rc-tree. Please report an issue.");var K=Rt(y),E={event:t,node:Q(S),dragNode:e.dragNode?Q(e.dragNode.props):null,dragNodesKeys:[e.dragNode.props.eventKey].concat(f),dropToGap:v!==0,dropPosition:v+Number(K[K.length-1])};d||p==null||p(E),e.dragNode=null}}},e.cleanDragState=function(){var t=e.state.draggingNodeKey;t!==null&&e.setState({draggingNodeKey:null,dropPosition:null,dropContainerKey:null,dropTargetKey:null,dropLevelOffset:null,dropAllowed:!0,dragOverNodeKey:null}),e.dragStartMousePosition=null,e.currentMouseOverDroppableNodeKey=null},e.triggerExpandActionExpand=function(t,r){var a=e.state,d=a.expandedKeys,c=a.flattenNodes,f=r.expanded,v=r.key,g=r.isLeaf;if(!(g||t.shiftKey||t.metaKey||t.ctrlKey)){var y=c.filter(function(p){return p.key===v})[0],m=Q((0,Z.Z)((0,Z.Z)({},ot(v,e.getTreeNodeRequiredProps())),{},{data:y.data}));e.setExpandedKeys(f?we(d,v):We(d,v)),e.onNodeExpand(t,m)}},e.onNodeClick=function(t,r){var a=e.props,d=a.onClick,c=a.expandAction;c==="click"&&e.triggerExpandActionExpand(t,r),d==null||d(t,r)},e.onNodeDoubleClick=function(t,r){var a=e.props,d=a.onDoubleClick,c=a.expandAction;c==="doubleClick"&&e.triggerExpandActionExpand(t,r),d==null||d(t,r)},e.onNodeSelect=function(t,r){var a=e.state.selectedKeys,d=e.state,c=d.keyEntities,f=d.fieldNames,v=e.props,g=v.onSelect,y=v.multiple,m=r.selected,p=r[f.key],S=!m;S?y?a=We(a,p):a=[p]:a=we(a,p);var x=a.map(function(K){var E=Se(c,K);return E?E.node:null}).filter(function(K){return K});e.setUncontrolledState({selectedKeys:a}),g==null||g(a,{event:"select",selected:S,node:r,selectedNodes:x,nativeEvent:t.nativeEvent})},e.onNodeCheck=function(t,r,a){var d=e.state,c=d.keyEntities,f=d.checkedKeys,v=d.halfCheckedKeys,g=e.props,y=g.checkStrictly,m=g.onCheck,p=r.key,S,x={event:"check",node:r,checked:a,nativeEvent:t.nativeEvent};if(y){var K=a?We(f,p):we(f,p),E=we(v,p);S={checked:K,halfChecked:E},x.checkedNodes=K.map(function(D){return Se(c,D)}).filter(function(D){return D}).map(function(D){return D.node}),e.setUncontrolledState({checkedKeys:K})}else{var N=Ot([].concat((0,_.Z)(f),[p]),!0,c),b=N.checkedKeys,M=N.halfCheckedKeys;if(!a){var k=new Set(b);k.delete(p);var I=Ot(Array.from(k),{checked:!1,halfCheckedKeys:M},c);b=I.checkedKeys,M=I.halfCheckedKeys}S=b,x.checkedNodes=[],x.checkedNodesPositions=[],x.halfCheckedKeys=M,b.forEach(function(D){var L=Se(c,D);if(L){var R=L.node,F=L.pos;x.checkedNodes.push(R),x.checkedNodesPositions.push({node:R,pos:F})}}),e.setUncontrolledState({checkedKeys:b},!1,{halfCheckedKeys:M})}m==null||m(S,x)},e.onNodeLoad=function(t){var r=t.key,a=new Promise(function(d,c){e.setState(function(f){var v=f.loadedKeys,g=v===void 0?[]:v,y=f.loadingKeys,m=y===void 0?[]:y,p=e.props,S=p.loadData,x=p.onLoad;if(!S||g.indexOf(r)!==-1||m.indexOf(r)!==-1)return null;var K=S(t);return K.then(function(){var E=e.state.loadedKeys,N=We(E,r);x==null||x(N,{event:"load",node:t}),e.setUncontrolledState({loadedKeys:N}),e.setState(function(b){return{loadingKeys:we(b.loadingKeys,r)}}),d()}).catch(function(E){if(e.setState(function(b){return{loadingKeys:we(b.loadingKeys,r)}}),e.loadingRetryTimes[r]=(e.loadingRetryTimes[r]||0)+1,e.loadingRetryTimes[r]>=pr){var N=e.state.loadedKeys;(0,Te.ZP)(!1,"Retry for `loadData` many times but still failed. No more retry."),e.setUncontrolledState({loadedKeys:We(N,r)}),d()}c(E)}),{loadingKeys:We(m,r)}})});return a.catch(function(){}),a},e.onNodeMouseEnter=function(t,r){var a=e.props.onMouseEnter;a==null||a({event:t,node:r})},e.onNodeMouseLeave=function(t,r){var a=e.props.onMouseLeave;a==null||a({event:t,node:r})},e.onNodeContextMenu=function(t,r){var a=e.props.onRightClick;a&&(t.preventDefault(),a({event:t,node:r}))},e.onFocus=function(){var t=e.props.onFocus;e.setState({focused:!0});for(var r=arguments.length,a=new Array(r),d=0;d<r;d++)a[d]=arguments[d];t==null||t.apply(void 0,a)},e.onBlur=function(){var t=e.props.onBlur;e.setState({focused:!1}),e.onActiveChange(null);for(var r=arguments.length,a=new Array(r),d=0;d<r;d++)a[d]=arguments[d];t==null||t.apply(void 0,a)},e.getTreeNodeRequiredProps=function(){var t=e.state,r=t.expandedKeys,a=t.selectedKeys,d=t.loadedKeys,c=t.loadingKeys,f=t.checkedKeys,v=t.halfCheckedKeys,g=t.dragOverNodeKey,y=t.dropPosition,m=t.keyEntities;return{expandedKeys:r||[],selectedKeys:a||[],loadedKeys:d||[],loadingKeys:c||[],checkedKeys:f||[],halfCheckedKeys:v||[],dragOverNodeKey:g,dropPosition:y,keyEntities:m}},e.setExpandedKeys=function(t){var r=e.state,a=r.treeData,d=r.fieldNames,c=Ct(a,t,d);e.setUncontrolledState({expandedKeys:t,flattenNodes:c},!0)},e.onNodeExpand=function(t,r){var a=e.state.expandedKeys,d=e.state,c=d.listChanging,f=d.fieldNames,v=e.props,g=v.onExpand,y=v.loadData,m=r.expanded,p=r[f.key];if(!c){var S=a.indexOf(p),x=!m;if((0,Te.ZP)(m&&S!==-1||!m&&S===-1,"Expand state not sync with index check"),x?a=We(a,p):a=we(a,p),e.setExpandedKeys(a),g==null||g(a,{node:r,expanded:x,nativeEvent:t.nativeEvent}),x&&y){var K=e.onNodeLoad(r);K&&K.then(function(){var E=Ct(e.state.treeData,a,f);e.setUncontrolledState({flattenNodes:E})}).catch(function(){var E=e.state.expandedKeys,N=we(E,p);e.setExpandedKeys(N)})}}},e.onListChangeStart=function(){e.setUncontrolledState({listChanging:!0})},e.onListChangeEnd=function(){setTimeout(function(){e.setUncontrolledState({listChanging:!1})})},e.onActiveChange=function(t){var r=e.state.activeKey,a=e.props,d=a.onActiveChange,c=a.itemScrollOffset,f=c===void 0?0:c;r!==t&&(e.setState({activeKey:t}),t!==null&&e.scrollTo({key:t,offset:f}),d==null||d(t))},e.getActiveItem=function(){var t=e.state,r=t.activeKey,a=t.flattenNodes;return r===null?null:a.find(function(d){var c=d.key;return c===r})||null},e.offsetActiveKey=function(t){var r=e.state,a=r.flattenNodes,d=r.activeKey,c=a.findIndex(function(g){var y=g.key;return y===d});c===-1&&t<0&&(c=a.length),c=(c+t+a.length)%a.length;var f=a[c];if(f){var v=f.key;e.onActiveChange(v)}else e.onActiveChange(null)},e.onKeyDown=function(t){var r=e.state,a=r.activeKey,d=r.expandedKeys,c=r.checkedKeys,f=r.fieldNames,v=e.props,g=v.onKeyDown,y=v.checkable,m=v.selectable;switch(t.which){case Fe.Z.UP:{e.offsetActiveKey(-1),t.preventDefault();break}case Fe.Z.DOWN:{e.offsetActiveKey(1),t.preventDefault();break}}var p=e.getActiveItem();if(p&&p.data){var S=e.getTreeNodeRequiredProps(),x=p.data.isLeaf===!1||!!(p.data[f.children]||[]).length,K=Q((0,Z.Z)((0,Z.Z)({},ot(a,S)),{},{data:p.data,active:!0}));switch(t.which){case Fe.Z.LEFT:{x&&d.includes(a)?e.onNodeExpand({},K):p.parent&&e.onActiveChange(p.parent.key),t.preventDefault();break}case Fe.Z.RIGHT:{x&&!d.includes(a)?e.onNodeExpand({},K):p.children&&p.children.length&&e.onActiveChange(p.children[0].key),t.preventDefault();break}case Fe.Z.ENTER:case Fe.Z.SPACE:{y&&!K.disabled&&K.checkable!==!1&&!K.disableCheckbox?e.onNodeCheck({},K,!c.includes(a)):!y&&m&&!K.disabled&&K.selectable!==!1&&e.onNodeSelect({},K);break}}}g==null||g(t)},e.setUncontrolledState=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;if(!e.destroyed){var d=!1,c=!0,f={};Object.keys(t).forEach(function(v){if(v in e.props){c=!1;return}d=!0,f[v]=t[v]}),d&&(!r||c)&&e.setState((0,Z.Z)((0,Z.Z)({},f),a))}},e.scrollTo=function(t){e.listRef.current.scrollTo(t)},e}return(0,Me.Z)(s,[{key:"componentDidMount",value:function(){this.destroyed=!1,this.onUpdated()}},{key:"componentDidUpdate",value:function(){this.onUpdated()}},{key:"onUpdated",value:function(){var o=this.props,l=o.activeKey,u=o.itemScrollOffset,t=u===void 0?0:u;l!==void 0&&l!==this.state.activeKey&&(this.setState({activeKey:l}),l!==null&&this.scrollTo({key:l,offset:t}))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("dragend",this.onWindowDragEnd),this.destroyed=!0}},{key:"resetDragState",value:function(){this.setState({dragOverNodeKey:null,dropPosition:null,dropLevelOffset:null,dropTargetKey:null,dropContainerKey:null,dropTargetPos:null,dropAllowed:!1})}},{key:"render",value:function(){var o,l=this.state,u=l.focused,t=l.flattenNodes,r=l.keyEntities,a=l.draggingNodeKey,d=l.activeKey,c=l.dropLevelOffset,f=l.dropContainerKey,v=l.dropTargetKey,g=l.dropPosition,y=l.dragOverNodeKey,m=l.indent,p=this.props,S=p.prefixCls,x=p.className,K=p.style,E=p.showLine,N=p.focusable,b=p.tabIndex,M=b===void 0?0:b,k=p.selectable,I=p.showIcon,D=p.icon,L=p.switcherIcon,R=p.draggable,F=p.checkable,G=p.checkStrictly,q=p.disabled,W=p.motion,j=p.loadData,he=p.filterTreeNode,xe=p.height,ke=p.itemHeight,ee=p.virtual,re=p.titleRender,ge=p.dropIndicatorRender,Ke=p.onContextMenu,Ie=p.onScroll,Pe=p.direction,$e=p.rootClassName,de=p.rootStyle,Y=ut(this.props,{aria:!0,data:!0}),ae;return R&&((0,U.Z)(R)==="object"?ae=R:typeof R=="function"?ae={nodeDraggable:R}:ae={}),h.createElement(w.Provider,{value:{prefixCls:S,selectable:k,showIcon:I,icon:D,switcherIcon:L,draggable:ae,draggingNodeKey:a,checkable:F,checkStrictly:G,disabled:q,keyEntities:r,dropLevelOffset:c,dropContainerKey:f,dropTargetKey:v,dropPosition:g,dragOverNodeKey:y,indent:m,direction:Pe,dropIndicatorRender:ge,loadData:j,filterTreeNode:he,titleRender:re,onNodeClick:this.onNodeClick,onNodeDoubleClick:this.onNodeDoubleClick,onNodeExpand:this.onNodeExpand,onNodeSelect:this.onNodeSelect,onNodeCheck:this.onNodeCheck,onNodeLoad:this.onNodeLoad,onNodeMouseEnter:this.onNodeMouseEnter,onNodeMouseLeave:this.onNodeMouseLeave,onNodeContextMenu:this.onNodeContextMenu,onNodeDragStart:this.onNodeDragStart,onNodeDragEnter:this.onNodeDragEnter,onNodeDragOver:this.onNodeDragOver,onNodeDragLeave:this.onNodeDragLeave,onNodeDragEnd:this.onNodeDragEnd,onNodeDrop:this.onNodeDrop}},h.createElement("div",{role:"tree",className:se()(S,x,$e,(o={},(0,T.Z)(o,"".concat(S,"-show-line"),E),(0,T.Z)(o,"".concat(S,"-focused"),u),(0,T.Z)(o,"".concat(S,"-active-focused"),d!==null),o)),style:de},h.createElement(ar,(0,B.Z)({ref:this.listRef,prefixCls:S,style:K,data:t,disabled:q,selectable:k,checkable:!!F,motion:W,dragging:a!==null,height:xe,itemHeight:ke,virtual:ee,focusable:N,focused:u,tabIndex:M,activeItem:this.getActiveItem(),onFocus:this.onFocus,onBlur:this.onBlur,onKeyDown:this.onKeyDown,onActiveChange:this.onActiveChange,onListChangeStart:this.onListChangeStart,onListChangeEnd:this.onListChangeEnd,onContextMenu:Ke,onScroll:Ie},this.getTreeNodeRequiredProps(),Y))))}}],[{key:"getDerivedStateFromProps",value:function(o,l){var u=l.prevProps,t={prevProps:o};function r(N){return!u&&N in o||u&&u[N]!==o[N]}var a,d=l.fieldNames;if(r("fieldNames")&&(d=yt(o.fieldNames),t.fieldNames=d),r("treeData")?a=o.treeData:r("children")&&((0,Te.ZP)(!1,"`children` of Tree is deprecated. Please use `treeData` instead."),a=Bn(o.children)),a){t.treeData=a;var c=Gn(a,{fieldNames:d});t.keyEntities=(0,Z.Z)((0,T.Z)({},Ve,_t),c.keyEntities)}var f=t.keyEntities||l.keyEntities;if(r("expandedKeys")||u&&r("autoExpandParent"))t.expandedKeys=o.autoExpandParent||!u&&o.defaultExpandParent?on(o.expandedKeys,f):o.expandedKeys;else if(!u&&o.defaultExpandAll){var v=(0,Z.Z)({},f);delete v[Ve],t.expandedKeys=Object.keys(v).map(function(N){return v[N].key})}else!u&&o.defaultExpandedKeys&&(t.expandedKeys=o.autoExpandParent||o.defaultExpandParent?on(o.defaultExpandedKeys,f):o.defaultExpandedKeys);if(t.expandedKeys||delete t.expandedKeys,a||t.expandedKeys){var g=Ct(a||l.treeData,t.expandedKeys||l.expandedKeys,d);t.flattenNodes=g}if(o.selectable&&(r("selectedKeys")?t.selectedKeys=an(o.selectedKeys,o):!u&&o.defaultSelectedKeys&&(t.selectedKeys=an(o.defaultSelectedKeys,o))),o.checkable){var y;if(r("checkedKeys")?y=Pt(o.checkedKeys)||{}:!u&&o.defaultCheckedKeys?y=Pt(o.defaultCheckedKeys)||{}:a&&(y=Pt(o.checkedKeys)||{checkedKeys:l.checkedKeys,halfCheckedKeys:l.halfCheckedKeys}),y){var m=y,p=m.checkedKeys,S=p===void 0?[]:p,x=m.halfCheckedKeys,K=x===void 0?[]:x;if(!o.checkStrictly){var E=Ot(S,!0,f);S=E.checkedKeys,K=E.halfCheckedKeys}t.checkedKeys=S,t.halfCheckedKeys=K}}return r("loadedKeys")&&(t.loadedKeys=o.loadedKeys),t}}]),s}(h.Component);dn.defaultProps={prefixCls:"rc-tree",showLine:!1,showIcon:!0,selectable:!0,multiple:!1,checkable:!1,disabled:!1,checkStrictly:!1,draggable:!1,defaultExpandParent:!0,autoExpandParent:!1,defaultExpandAll:!1,defaultExpandedKeys:[],defaultCheckedKeys:[],defaultSelectedKeys:[],dropIndicatorRender:X,allowDrop:function(){return!0},expandAction:!1},dn.TreeNode=Mt;var Zr=null,Lr=null},96446:function(A,De,C){var B=C(37923);function T(U){if(Array.isArray(U))return B(U)}A.exports=T,A.exports.__esModule=!0,A.exports.default=A.exports},96936:function(A){function De(C){if(typeof Symbol!="undefined"&&C[Symbol.iterator]!=null||C["@@iterator"]!=null)return Array.from(C)}A.exports=De,A.exports.__esModule=!0,A.exports.default=A.exports},88619:function(A){function De(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}A.exports=De,A.exports.__esModule=!0,A.exports.default=A.exports},13769:function(A,De,C){var B=C(48541);function T(U,Z){if(U==null)return{};var _=B(U,Z),le,Me;if(Object.getOwnPropertySymbols){var ye=Object.getOwnPropertySymbols(U);for(Me=0;Me<ye.length;Me++)le=ye[Me],!(Z.indexOf(le)>=0)&&Object.prototype.propertyIsEnumerable.call(U,le)&&(_[le]=U[le])}return _}A.exports=T,A.exports.__esModule=!0,A.exports.default=A.exports},48541:function(A){function De(C,B){if(C==null)return{};var T={},U=Object.keys(C),Z,_;for(_=0;_<U.length;_++)Z=U[_],!(B.indexOf(Z)>=0)&&(T[Z]=C[Z]);return T}A.exports=De,A.exports.__esModule=!0,A.exports.default=A.exports},19632:function(A,De,C){var B=C(96446),T=C(96936),U=C(96263),Z=C(88619);function _(le){return B(le)||T(le)||U(le)||Z()}A.exports=_,A.exports.__esModule=!0,A.exports.default=A.exports}}]);
